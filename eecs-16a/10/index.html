<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="


  \(\)



  04/05:
  #


  Negative Feedback (NFB)
  #


The main idea is &lsquo;how do we get an op-amp to output a voltage that isn&rsquo;t railing?&rsquo;

  Negative feedback refers to the idea that there is some output amount that is the ideal or intended amount

If the actual amount becomes larger than this reference, then the system must detect this deviation and bring it down to the reference.
Similarly, if the actual amount drops too low, the system must bring it back up to the reference.



  Negative-feedback amplifiers helps maintain the output voltage at a constant level despite the fact that the op-amp wants to rail the output.


  
    
$$\begin{aligned}
V_{out} &= A(U_+ âˆ’ U_âˆ’)    \\
V_{out} &= A(V_{in} âˆ’ V_{out})   \\
V_{out} + A \cdot V_{out} &= A \cdot V_{in}  \\
V_{out}(1 + A) &= A \cdot V_{in} \\
V_{out} &= V_{in} \frac{A}{A+1}  \\
V_{out} &\approx V_{in}\ \text{ for }\ A \approx \infty
\end{aligned}$$"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="http://notes.mehvix.com/eecs-16a/10/"><meta property="og:site_name" content="notes.mehvix.com"><meta property="og:title" content="10: NFB, GRs & Buffer &#43; Loading"><meta property="og:description" content="\(\) 04/05: # Negative Feedback (NFB) # The main idea is â€˜how do we get an op-amp to output a voltage that isnâ€™t railing?â€™ Negative feedback refers to the idea that there is some output amount that is the ideal or intended amount If the actual amount becomes larger than this reference, then the system must detect this deviation and bring it down to the reference. Similarly, if the actual amount drops too low, the system must bring it back up to the reference. Negative-feedback amplifiers helps maintain the output voltage at a constant level despite the fact that the op-amp wants to rail the output. $$\begin{aligned} V_{out} &= A(U_+ âˆ’ U_âˆ’) \\ V_{out} &= A(V_{in} âˆ’ V_{out}) \\ V_{out} + A \cdot V_{out} &= A \cdot V_{in} \\ V_{out}(1 + A) &= A \cdot V_{in} \\ V_{out} &= V_{in} \frac{A}{A+1} \\ V_{out} &\approx V_{in}\ \text{ for }\ A \approx \infty \end{aligned}$$"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-10-21T21:03:20-07:00"><title>10: NFB, GRs & Buffer + Loading | notes.mehvix.com</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=canonical href=http://notes.mehvix.com/eecs-16a/10/><link rel=stylesheet href=/book.min.484e3cdc2f6e660df5c808d0eaf99198acde922db9728bc590485956e896548a.css integrity="sha256-SE483C9uZg31yAjQ6vmRmKzeki25covFkEhZVuiWVIo=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.73a489f58719df10b1ac07531558d6578f8df7bfed0219b74eedc536d78ad671.js integrity="sha256-c6SJ9YcZ3xCxrAdTFVjWV4+N97/tAhm3Tu3FNteK1nE=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ““</text></svg>"><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script>MathJax={tex:{inlineMath:[["$","$"],[".$","$"]],processEscapes:!0,processEnvironments:!0,macros:{bigsup:[`#1{^{\\vbox{\\hbox{$\\scriptstyle#1$}\\nointerlineskip\\hbox{}}}}`,1],norm:["\\left\\lVert#1\\right\\rVert",1]}},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}}</script><script id=MathJax-script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.min.js?config=TeX-AMS_CHTML" integrity="sha512-9DkJEmXbL/Tdj8b1SxJ4H2p3RCAXKsu8RqbznEjhFYw0cFIWlII+PnGDU2FX3keyE9Ev6eFaDPyEAyAL2cEX0Q==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:".$",right:"$",display:!1},{left:"$",right:"$",display:!1}],throwOnError:!1})})</script><link rel=stylesheet href=http://notes.mehvix.com/css/custom.css><div class=print style=text-align:center><h1 id=print-location>Notes can be found as interactive webpage at</h1></div><script>let a=document.createElement("a");a.appendChild(document.createTextNode(`notes.mehvix.com${window.location.pathname}`)),a.href="http://notes.mehvix.com"+window.location.pathname,document.getElementById("print-location").appendChild(a)</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>notes.mehvix.com</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=Docs><li><input type=checkbox id=section-cab0b73e50556ed606c8597f8484244a class=toggle>
<label for=section-cab0b73e50556ed606c8597f8484244a class="flex justify-between"><a id="Cheatsheet PDFs" href=http://notes.mehvix.com/docs/cheatsheets/>Cheatsheet PDFs</a></label><ul class="Cheatsheet PDFs"><li><a id="BioE C165" href=http://notes.mehvix.com/cheatsheets/bioe-C165/>BioE C165</a></li><li><a id="CS 161" href=http://notes.mehvix.com/cheatsheets/cs-161/>CS 161</a></li><li><a id="CS 162" href=http://notes.mehvix.com/cheatsheets/cs-162/>CS 162</a></li><li><a id="CS 170" href=http://notes.mehvix.com/cheatsheets/cs-170/>CS 170</a></li><li><a id="CS 182" href=http://notes.mehvix.com/cheatsheets/cs-182/>CS 182</a></li><li><a id="CS 184" href=http://notes.mehvix.com/cheatsheets/cs-184/>CS 184</a></li><li><a id="EECS 126" href=http://notes.mehvix.com/cheatsheets/eecs-126/>EECS 126</a></li><li><a id="EECS 127" href=http://notes.mehvix.com/cheatsheets/eecs-127/>EECS 127</a></li><li><a id="EECS 151" href=http://notes.mehvix.com/cheatsheets/eecs-151/>EECS 151</a></li><li><a id="EECS 16B" href=http://notes.mehvix.com/cheatsheets/eecs-16b/>EECS 16B</a></li></ul></li><li><a id=CS194 href=http://notes.mehvix.com/docs/cs-194/>CS194</a></li><li><a id="CogSci C100" href=http://notes.mehvix.com/docs/cogsci-c100/>CogSci C100</a></li><li><a id="EECS 126" href=http://notes.mehvix.com/docs/eecs-126/>EECS 126</a></li><li><input type=checkbox id=section-1353349d06b26869472754cb4e37a115 class=toggle checked>
<label for=section-1353349d06b26869472754cb4e37a115 class="flex justify-between"><a id="EECS 16A" role=button>EECS 16A</a></label><ul class="EECS 16A"><li><a id="0: System Design & Linear Equations" href=http://notes.mehvix.com/eecs-16a/0/>0: System Design & Linear Equations</a></li><li><a id="1: Gaussian Elim. & Matrices + Vectors" href=http://notes.mehvix.com/eecs-16a/1/>1: Gaussian Elim. & Matrices + Vectors</a></li><li><a id="2: (In)dependence & Circuit Analysis" href=http://notes.mehvix.com/eecs-16a/2/>2: (In)dependence & Circuit Analysis</a></li><li><a id="3: Transformations & Inverse" href=http://notes.mehvix.com/eecs-16a/3/>3: Transformations & Inverse</a></li><li><a id="4: Vector Spaces & Eigenstuff" href=http://notes.mehvix.com/eecs-16a/4/>4: Vector Spaces & Eigenstuff</a></li><li><a id="5: Basis & Circuit Analysis" href=http://notes.mehvix.com/eecs-16a/5/>5: Basis & Circuit Analysis</a></li><li><a id="6: Voltage Dividers & Measurement" href=http://notes.mehvix.com/eecs-16a/6/>6: Voltage Dividers & Measurement</a></li><li><a id="7: 2D Touchscreens & Superp. + Equivalence" href=http://notes.mehvix.com/eecs-16a/7/>7: 2D Touchscreens & Superp. + Equivalence</a></li><li><a id="8: Capacitors & Capacitive Touchscreen" href=http://notes.mehvix.com/eecs-16a/8/>8: Capacitors & Capacitive Touchscreen</a></li><li><a id="9: Op-Amps, Comparators & Charge Sharing" href=http://notes.mehvix.com/eecs-16a/9/>9: Op-Amps, Comparators & Charge Sharing</a></li><li><a id="10: NFB, GRs & Buffer + Loading" href=http://notes.mehvix.com/eecs-16a/10/ class=active>10: NFB, GRs & Buffer + Loading</a></li><li><a id="11: Locationing & Trilateration" href=http://notes.mehvix.com/eecs-16a/11/>11: Locationing & Trilateration</a></li><li><a id="12-13: Least Squares & ML" href=http://notes.mehvix.com/eecs-16a/12/>12-13: Least Squares & ML</a></li></ul></li><li><input type=checkbox id=section-3b723abdc0a6803a85e30f09a22404ec class=toggle>
<label for=section-3b723abdc0a6803a85e30f09a22404ec class="flex justify-between"><a id="Engineering 29" role=button>Engineering 29</a></label><ul class="Engineering 29"><li><a id="0: Intro & Tolerancing" href=http://notes.mehvix.com/e-29/0/>0: Intro & Tolerancing</a></li><li><a id="1: Fundamentals of Graphical Communication & Subtractive Processes" href=http://notes.mehvix.com/e-29/1/>1: Fundamentals of Graphical Communication & Subtractive Processes</a></li><li><a id="2: Cutting-based Processes & Other Subtractive Processes" href=http://notes.mehvix.com/e-29/2/>2: Cutting-based Processes & Other Subtractive Processes</a></li><li><a id="3: Additive Processes: Intro & Extrusion" href=http://notes.mehvix.com/e-29/3/>3: Additive Processes: Intro & Extrusion</a></li><li><a id="4: Additive Processes: Light-based, etc." href=http://notes.mehvix.com/e-29/4/>4: Additive Processes: Light-based, etc.</a></li><li><a id="5-6: Forming Processes" href=http://notes.mehvix.com/e-29/5/>5-6: Forming Processes</a></li><li><a id="6-7: Joining processes" href=http://notes.mehvix.com/e-29/6/>6-7: Joining processes</a></li><li><a id="7-9: Visualization" href=http://notes.mehvix.com/e-29/7/>7-9: Visualization</a></li><li><a id="10: Metrology" href=http://notes.mehvix.com/e-29/10/>10: Metrology</a></li><li><a id="11-12: GD&amp;T" href=http://notes.mehvix.com/e-29/11/>11-12: GD&amp;T</a></li></ul></li><li><a id="Anthro C12AC" href=http://notes.mehvix.com/docs/anthro-c12ac/>Anthro C12AC</a></li><li><input type=checkbox id=section-2fb22fc844971410c336352bd48ccfc7 class=toggle>
<label for=section-2fb22fc844971410c336352bd48ccfc7 class="flex justify-between"><a id="Math 53" role=button>Math 53</a></label><ul class="Math 53"><li><a id="10: Parametric Equations and Polar Coordinates" href=http://notes.mehvix.com/math-53/10/>10: Parametric Equations and Polar Coordinates</a></li><li><a id="12: Vectors & Geometry of Space" href=http://notes.mehvix.com/math-53/12/>12: Vectors & Geometry of Space</a></li><li><a id="13: Vector Functions" href=http://notes.mehvix.com/math-53/13/>13: Vector Functions</a></li><li><a id="14: Partial Derivatives" href=http://notes.mehvix.com/math-53/14/>14: Partial Derivatives</a></li><li><a id="15: Multiple Integrals" href=http://notes.mehvix.com/math-53/15/>15: Multiple Integrals</a></li><li><a id="16: Vector Calculus" href=http://notes.mehvix.com/math-53/16/>16: Vector Calculus</a></li><li><a id="Trig Identities" href=http://notes.mehvix.com/math-53/trig/>Trig Identities</a></li><li><a id="Trig Calculus" href=http://notes.mehvix.com/math-53/trig-calc/>Trig Calculus</a></li></ul></li><li><input type=checkbox id=section-4a488595e08b21ebd7027a408bc79421 class=toggle>
<label for=section-4a488595e08b21ebd7027a408bc79421 class="flex justify-between"><a id="Physics 7B" role=button>Physics 7B</a></label><ul class="Physics 7B"><li><a id="17: Temperature, Thermal Expansion, & Ideal Gas Law" href=http://notes.mehvix.com/physics-7b/17/>17: Temperature, Thermal Expansion, & Ideal Gas Law</a></li><li><a id="18: Kinetic Theory of Gases" href=http://notes.mehvix.com/physics-7b/18/>18: Kinetic Theory of Gases</a></li><li><a id="19: Heat & First Law of Thermo" href=http://notes.mehvix.com/physics-7b/19/>19: Heat & First Law of Thermo</a></li><li><a id="20: Second Law of Thermo" href=http://notes.mehvix.com/physics-7b/20/>20: Second Law of Thermo</a></li><li><a id="21: Electric Charges & Fields" href=http://notes.mehvix.com/physics-7b/21/>21: Electric Charges & Fields</a></li><li><a id="22: Flux & Gauss's Law" href=http://notes.mehvix.com/physics-7b/22/>22: Flux & Gauss's Law</a></li><li><a id="23: Electric Potential" href=http://notes.mehvix.com/physics-7b/23/>23: Electric Potential</a></li><li><a id="24: Capacitance, Dielectrics, Electric Energy Storage" href=http://notes.mehvix.com/physics-7b/24/>24: Capacitance, Dielectrics, Electric Energy Storage</a></li><li><a id="25: Electric Current and Resistance" href=http://notes.mehvix.com/physics-7b/25/>25: Electric Current and Resistance</a></li><li><a id="26: DC Circuits" href=http://notes.mehvix.com/physics-7b/26/>26: DC Circuits</a></li><li><a id="27: Magnetism" href=http://notes.mehvix.com/physics-7b/27/>27: Magnetism</a></li><li><a id="28: Sources of Magnetic Field" href=http://notes.mehvix.com/physics-7b/28/>28: Sources of Magnetic Field</a></li><li><a id="29: Electromagnetic Induction & Faraday's Law" href=http://notes.mehvix.com/physics-7b/29/>29: Electromagnetic Induction & Faraday's Law</a></li><li><a id="30: Inductance, Electromagnetic Oscillations, & AC Circuits" href=http://notes.mehvix.com/physics-7b/30/>30: Inductance, Electromagnetic Oscillations, & AC Circuits</a></li></ul></li><li><input type=checkbox id=section-a3b28583765ac94c99e11841ad6a7a0f class=toggle>
<label for=section-a3b28583765ac94c99e11841ad6a7a0f class="flex justify-between"><a id=CS170 role=button>CS170</a></label><ul class=CS170><li><a id="Midterm 1: Cheat Sheet" href=http://notes.mehvix.com/cs-170/mt1/>Midterm 1: Cheat Sheet</a></li></ul></li><li><a id="Frank's ASAMST 20A" href=http://notes.mehvix.com/docs/asamst-20a/>Frank's ASAMST 20A</a></li><li><input type=checkbox id=section-43d03d92759698c276d1d7a6a3fee1f7 class=toggle>
<label for=section-43d03d92759698c276d1d7a6a3fee1f7 class="flex justify-between"><a id="AP Notes" role=button>AP Notes</a></label><ul class="AP Notes"><li><a id="AP Human Geography" href=http://notes.mehvix.com/ap/huge/>AP Human Geography</a></li><li><a id="AP Physics C: Mechanics" href=http://notes.mehvix.com/ap/cmech/>AP Physics C: Mechanics</a></li><li><a id="AP Statistics" href=http://notes.mehvix.com/ap/stats/>AP Statistics</a></li></ul></li></ul><ul><li><a href=https://docs.google.com/document/d/1iAIWATHN-SuUngw0EVUXLXbVmCQPAN-uoGRKvXh9lIU/ target=_blank rel=noopener>Hanji's MCB 61</a></li><li><a href=https://cs61a.rouxl.es/ target=_blank rel=noopener>Anto's CS61A</a></li><li><a href=# target=_blank rel=noopener>â€”</a></li><li><a href=https://www.mehvix.com target=_blank rel=noopener>wÂ³.mehvix.com</a></li><li><a href=https://pass.mehvix.com target=_blank rel=noopener>pass.mehvix.com</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>10: NFB, GRs & Buffer + Loading</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#0405>04/05:</a><ul><li><a href=#negative-feedback-nfb>Negative Feedback (NFB)</a><ul><li><a href=#checking-for-nfb>Checking for NFB</a></li></ul></li><li><a href=#golden-rules>Golden Rules</a><ul><li><a href=#1-i_---i_--0>1: $i_- = i_+ = 0$</a></li><li><a href=#2-u_---u_-iff-nfb>2: $U_- = U_+ \iff$ NFB</a></li></ul></li><li><a href=#dac>DAC</a></li></ul></li><li><a href=#0407-buffering-loading--design>04/07: Buffering, Loading, & Design</a><ul><li><a href=#reference-op-amp-example-circuits>Reference: Op-Amp Example Circuits</a></li><li><a href=#signals-vs-supply-voltages>Signals vs. Supply Voltages</a></li><li><a href=#loading>Loading</a><ul><li><a href=#example>Example</a></li></ul></li><li><a href=#buffering>Buffering</a><ul><li><a href=#example-1>Example</a></li></ul></li><li><a href=#design-procedure>Design Procedure</a><ul><li><a href=#1-specification>1: Specification</a></li><li><a href=#2-strategy>2: Strategy</a></li><li><a href=#3-implementation>3: Implementation</a></li><li><a href=#4-verification>4: Verification</a></li></ul></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><link rel=stylesheet href=/katex/katex.min.css><script defer src=/katex/katex.min.js></script><script defer src=/katex/auto-render.min.js onload=renderMathInElement(document.body)></script><span>\(\)</span><h1 id=0405>04/05:
<a class=anchor href=#0405>#</a></h1><h2 id=negative-feedback-nfb>Negative Feedback (NFB)
<a class=anchor href=#negative-feedback-nfb>#</a></h2><ul><li>The main idea is &lsquo;how do we get an op-amp to output a voltage that isn&rsquo;t railing?&rsquo;</li><li><a href=https://en.wikipedia.org/wiki/Negative_feedback>Negative feedback</a> refers to the idea that there is some output amount that is the ideal or intended amount<ul><li>If the actual amount becomes larger than this reference, then the system must detect this deviation and bring it down to the reference.</li><li>Similarly, if the actual amount drops too low, the system must bring it back up to the reference.</li></ul></li><li><a href=https://en.wikipedia.org/wiki/Negative-feedback_amplifier>Negative-feedback amplifiers</a> helps maintain the output voltage at a constant level despite the fact that the op-amp wants to rail the output.<div class="book-columns flex flex-wrap"><div class="flex-even markdown-inner"><p>$$\begin{aligned}
V_{out} &= A(U_+ âˆ’ U_âˆ’) \\
V_{out} &= A(V_{in} âˆ’ V_{out}) \\
V_{out} + A \cdot V_{out} &= A \cdot V_{in} \\
V_{out}(1 + A) &= A \cdot V_{in} \\
V_{out} &= V_{in} \frac{A}{A+1} \\
V_{out} &\approx V_{in}\ \text{ for }\ A \approx \infty
\end{aligned}$$</p></div><div class="flex-even markdown-inner"><blockquote><p><img src=/docs/eecs-16a/10/nfb.png alt>
To incorporate negative feedback into our op-amp design, we must create a connection that goes from the output into the negative input</p></blockquote></div></div><ul><li>So when $V_{in} \in [V_{SS}, V_{DD}]$ we get a non-clipped output<ul><li>Therefore, it&rsquo;s common to omit the supply terminals when the op-amp is in negative feedback</li><li>When the op-amp is acting as a comparator (i.e. not in negative feedback) the output voltage is basically always either $V_{DD}$ or $V_{SS}$</li><li>However, when an op-amp is in negative feedback, the output voltage is generally independent of the supply<ul><li>We are implicitly stating that the supply voltages are large enough that we never clip</li></ul></li></ul></li><li>That is, when negative feedback is applied around an amplifier with high
<a href=https://en.wikipedia.org/wiki/Open-loop_gain>open-loop gain</a> it reduces the overall gain of the complete circuit to a desired value due to the
<a href=https://en.wikipedia.org/wiki/Loop_gain>loop gain</a><ul><li><a href=https://en.wikipedia.org/wiki/Negative-feedback_amplifier#Summary_of_terms>Summary of terms</a></li></ul></li></ul></li></ul><h3 id=checking-for-nfb>Checking for NFB
<a class=anchor href=#checking-for-nfb>#</a></h3><blockquote><p>One convenient method is to check what happens if the output voltage happens to fluctuate by a little bit above the desired output; when this change occurs and propagates back to the input of the op-amp, does it cause the output to come back down to the desired level? If so, the system is in negative feedback.</p></blockquote><ol><li>Zero out all independent sources as in Thevenin-Norton Equivalencies<ul><li>Voltage sources become wires and current sources become open circuits</li></ul></li><li>&ldquo;Dink&rdquo; the output<ul><li>If in NFB and $V_{out} \uparrow$, then $U_- \uparrow$ and $U_+ - U_- \downarrow$ (the difference between the higher and lower voltages decreases if the lower voltage increases.)</li><li>Then, $A(U_+ âˆ’ U_âˆ’) \downarrow$ also. From this, we can directly say that $V_{out} \downarrow$</li><li>That is, an increase in the output voltage ultimately led to a decrease in the output voltage.</li></ul></li></ol><ul><li><a href="https://eecs16a.org/lecture/Note19.pdf#page=3">Example on page 3</a></li></ul><h2 id=golden-rules>Golden Rules
<a class=anchor href=#golden-rules>#</a></h2><h3 id=1-i_---i_--0>1: $i_- = i_+ = 0$
<a class=anchor href=#1-i_---i_--0>#</a></h3><blockquote><p>No current flows in/out of the input terminals $U_-$ and $U_+$</p></blockquote><ul><li>For ideal op-amps, regardless of NFB</li><li>Thus, the behavior of the input terminal&rsquo;s circuits shouldn&rsquo;t change</li></ul><h3 id=2-u_---u_-iff-nfb>2: $U_- = U_+ \iff$ NFB
<a class=anchor href=#2-u_---u_-iff-nfb>#</a></h3><p><div class="book-columns flex flex-wrap"><div class="flex-even markdown-inner"><ul><li>That is, the voltage potential at the positive input terminal (relative to ground) and the voltage at the negative input terminal (relative to the same ground) are the same</li><li>Intuitively, the &ldquo;error signal&rdquo; going into the op amp must be zero</li><li>Implied by $A \to \infty$, full proof on
<a href="https://eecs16a.org/lecture/Note18.pdf#page=7">page 7</a></li></ul></div><div class="flex-even markdown-inner"><p>$$\begin{aligned}
v_{in} - f v_{out} &= v_c \\
v_{out} &= A v_c \\
\Longrightarrow v_{out} &= \frac{A}{1+Af}v_{in} \\
\end{aligned}$$</p><p>Thus, $v_{in} = 0V \implies v_c = 0V$ and $v_{out}$ can be non-zero even when $v_c = 0$ given $A = \infty$</p></div></div><br></p><p><img src=/docs/eecs-16a/10/diag.png alt></p><h2 id=dac>DAC
<a class=anchor href=#dac>#</a></h2><blockquote><p><a href=https://en.wikipedia.org/wiki/Digital-to-analog_converter>Digital-to-Analog Converter</a>: Component that takes in digital signals (bits) and translates them into output analog voltages.</p></blockquote><h1 id=0407-buffering-loading--design>04/07: Buffering, Loading, & Design
<a class=anchor href=#0407-buffering-loading--design>#</a></h1><h2 id=reference-op-amp-example-circuits>Reference: Op-Amp Example Circuits
<a class=anchor href=#reference-op-amp-example-circuits>#</a></h2><figure><img src=/docs/eecs-16a/10/ex.png></figure><h2 id=signals-vs-supply-voltages>Signals vs. Supply Voltages
<a class=anchor href=#signals-vs-supply-voltages>#</a></h2><div class="book-columns flex flex-wrap"><div class="flex-even markdown-inner"><ul><li>In real systems, voltages are typically fluctuating signals<ul><li>e.x. changes in light intensity or electrical brain activity read from an EEG</li></ul></li><li>Signals are voltages, they are different from the supply voltages of an op-amp because they are typically much smaller and they change over time</li></ul></div><div class="flex-even markdown-inner"><blockquote><p>To distinguish, we will use the following symbol to represent time-varying voltage signals:
<img src=/docs/eecs-16a/10/sig.png alt></p></blockquote></div></div><ul><li>Note that while we are alright having signals as our inputs to op-amps, voltage signals generally should not be used for power since they&rsquo;d create time-varying behavior</li></ul><h2 id=loading>Loading
<a class=anchor href=#loading>#</a></h2><blockquote><p><strong><a href=https://en.wikipedia.org/wiki/Electrical_load>Loading</a></strong>: an electrical component or portion of a circuit that consumes (active) electric power</p></blockquote><ul><li>The loading effect makes it hard to design circuits because they mean that components will behave differently depending on what they&rsquo;re connected to<ul><li>Specifically, if the circuit afterwards draws current through some element&rsquo;s $R_{el}$, then the output voltage drops.</li><li>Furthermore, the amount it drops also depends on the rest of the circuit&rsquo;s resistance $R_{th}$ &ndash; but we donâ€™t want to have to redesign our circuit every time we change $R_{el}$</li></ul></li></ul><h3 id=example>Example
<a class=anchor href=#example>#</a></h3><div class="book-columns flex flex-wrap"><div class="flex-even markdown-inner"><ul><li>In the real world, the battery (voltage source) has some
<a href=https://en.wikipedia.org/wiki/Parasitism#Etymology>parasitic</a>,
<a href=https://en.wikipedia.org/wiki/Internal_resistance><strong>internal resistance</strong></a> along with the wires &ndash; $r$</li><li>Thus, the voltage drop across the bulb depends on the value of $r$, which is determined by the batteryâ€™s internal structure</li><li>Current flows in this circuit, so some of the batteryâ€™s voltage is lost to the internal resistance of the battery<ul><li>Most of the time this just means the battery/wires heat up</li></ul></li></ul></div><div class="flex-even markdown-inner"><p>$$V_{lightbulb} = \frac{R_l}{R_l + r} V_{battery}$$
<img src=/docs/eecs-16a/10/load.png alt></p></div></div><ul><li>We want some way to ensure that no matter what $r$ is, the voltage dropped across the bulb was a constant, <em>isolating</em> it from the source</li></ul><h2 id=buffering>Buffering
<a class=anchor href=#buffering>#</a></h2><blockquote><p><strong><a href=https://en.wikipedia.org/wiki/Buffer_amplifier>Buffer (amplifier)</a></strong>: provides electrical impedance transformation from one circuit to another, with the aim of preventing the signal source from being affected by whatever currents (or voltages, for a current buffer) that the load may be produced with</p></blockquote><ul><li>Buffers are a powerful tool because they allow us to split circuits into blocks that we can analyze separately and then combine later</li><li>When circuit blocks behave the same way regardless of what theyâ€™re are connected to, we donâ€™t need to worry about whatâ€™s inside, making it much easier to design complex circuits.</li></ul><h3 id=example-1>Example
<a class=anchor href=#example-1>#</a></h3><div class="book-columns flex flex-wrap"><div class="flex-even markdown-inner"><ul><li>We can throw a <strong>unity gain buffer</strong> in our situation above to solve our issue<ul><li>In a unity gain buffer, $v_{in} = v_{out}$</li></ul></li><li>The voltage at the non-inverting input is $V_{bat}$ since no current can flow into the op-amp (
<a href=/eecs-16a/10/#1-i_---i_--0>GR#1</a>) and the same voltage appears at the output because of our unity-gain buffer<ul><li>This is the case if, by Ohmâ€™s law, current must flow out of the op-amp&ndash; which is perfectly fine since itâ€™s only the inputs that current cannot flow into or out of.</li></ul></li></ul></div><div class="flex-even markdown-inner"><p>$$V_{lightbulb} = U_{out} = V_{battery}$$
<img src=/docs/eecs-16a/10/unity.png alt></p></div></div><ul><li>Now the full $V_{bat}$ will be dropped across the bulb, and we donâ€™t need to worry about any loading effects<ul><li>No matter what the $r$ or $R$ values are, the circuitâ€™s behavior is consistent</li></ul></li></ul><h2 id=design-procedure>Design Procedure
<a class=anchor href=#design-procedure>#</a></h2><h3 id=1-specification>1: Specification
<a class=anchor href=#1-specification>#</a></h3><blockquote><p>Concretely restate the goals for the design.</p></blockquote><ul><li>Frequently, a design prompt will include a lot of text, so weâ€™d like to restate all of the most important features of our design. Weâ€™ll refer to these specifications later to determine if our design is complete.</li></ul><h3 id=2-strategy>2: Strategy
<a class=anchor href=#2-strategy>#</a></h3><blockquote><p>Describe your strategy (often in the form of a block diagram) to achieve your goal.</p></blockquote><ul><li>To do this, start by thinking about what you can measure vs. what you want to know<ul><li>For example in our capacitive touchscreen, we want to know if there is a touch and we can measure voltage.</li><li>Since we know that a touch can change the capacitance, we break this down into the following block diagram:
<img src=/docs/eecs-16a/10/cap.png alt></li></ul></li></ul><h3 id=3-implementation>3: Implementation
<a class=anchor href=#3-implementation>#</a></h3><blockquote><p>Implement the components described in your strategy.</p></blockquote><ul><li>This is where pattern matching is useful: remind yourself of blocks you know, (ex. voltage divider, inverting amplifier) and check if any of these can be used to implement steps of your strategy.</li></ul><h3 id=4-verification>4: Verification
<a class=anchor href=#4-verification>#</a></h3><blockquote><p>Check that the design from 3 does what we specified in 1</p></blockquote><ul><li>Check block-to-block connections, as these are the most common point for problems.</li><li>Does one block load another block causing it to behave differently than expected?</li><li>Are there any contradictions (ex. a voltage source with both ends connected by a wire, or a current source directed into an open circuit)?</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/Mehvix/notes/commit/95e6eeb626800bae0459ed28fac14ab9866a0c4e title='Last modified by Max Vogel | October 22, 2024' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>October 22, 2024</span></a></div><div><a class="flex align-center" href=https://github.com/Mehvix/notes/edit/master/hugo/content/docs/eecs-16a/10.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#0405>04/05:</a><ul><li><a href=#negative-feedback-nfb>Negative Feedback (NFB)</a><ul><li><a href=#checking-for-nfb>Checking for NFB</a></li></ul></li><li><a href=#golden-rules>Golden Rules</a><ul><li><a href=#1-i_---i_--0>1: $i_- = i_+ = 0$</a></li><li><a href=#2-u_---u_-iff-nfb>2: $U_- = U_+ \iff$ NFB</a></li></ul></li><li><a href=#dac>DAC</a></li></ul></li><li><a href=#0407-buffering-loading--design>04/07: Buffering, Loading, & Design</a><ul><li><a href=#reference-op-amp-example-circuits>Reference: Op-Amp Example Circuits</a></li><li><a href=#signals-vs-supply-voltages>Signals vs. Supply Voltages</a></li><li><a href=#loading>Loading</a><ul><li><a href=#example>Example</a></li></ul></li><li><a href=#buffering>Buffering</a><ul><li><a href=#example-1>Example</a></li></ul></li><li><a href=#design-procedure>Design Procedure</a><ul><li><a href=#1-specification>1: Specification</a></li><li><a href=#2-strategy>2: Strategy</a></li><li><a href=#3-implementation>3: Implementation</a></li><li><a href=#4-verification>4: Verification</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>